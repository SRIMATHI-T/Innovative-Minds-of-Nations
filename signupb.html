<?php 
$registered=0; 
$userexsists=0;
if($_SERVER['REQUEST_METHOD']=='POST'){ 
 include 'server.html'; 
 $UserName=$_POST['UserName'];
 $EmailAddress=$_POST['EmailAddress'];
 $password=$_POST['password'];
 $Topic=$_POST['Topic'];
 $sql="SELECT * FROM sigupbootstrap WHERE UserName='$UserName'";
 $result=mysqli_query($con,$sql);
 if($result){
 $num=mysqli_num_rows($result); 
 if($num>0){
 $userexsists=1;
 }else{
 $sql="INSERT INTO sigupbootstrap (UserName,EmailAddress,password,Topic) VALUES ('$UserName','$EmailAddress','$password','$Topic')";
 $result=mysqli_query($con,$sql);
 if($result){
 $registered=1;
 }else{
 die(mysqli_error($con));
 }
 }
 }
 $con->close();
}
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.4.0/mdb.min.css" rel="stylesheet">
  <style>
    .bg-image {
      background-size: cover;
      background-position: center;
    }
  </style>
</head>
<body>
  <section class="text-center">
    <div class="p-5 bg-image" style="
        background-image: url('signup bgimage.jpg');
        height: 300px;
        "></div>
        <div class="md-5 shadow-5-strong" style=" margin-top: -100px;background: hsla(0, 0%, 100%, 0.8);backdrop-filter: blur(30px);">
      <div class="card-body py-5 px-md-5">
        <div class="row d-flex justify-content-center">
          <div class="col-lg-8">
            <h2 class="fw-bold mb-5">Sign up</h2>
            <form action="signupb.html" method="POST">
              <div class="row">
                <div class="col-md-6 mb-4">
                  <div data-mdb-input-init class="form-outline">
                    <input name="UserName" type="text" id="form3Example1" class="form-control" />
                    <label class="form-label" for="form3Example1">Username</label>
                  </div>
                </div>
                </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input name="EmailAddress" type="email" id="form3Example3" class="form-control" />
                <label class="form-label" for="form3Example3">Email</label>
              </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input name="password" type="password" id="form3Example4" class="form-control" />
                <label class="form-label" for="form3Example4">Password</label>
              </div>
              <div data-mdb-input-init class="form-outline mb-4">
                <input name="Topic" type="text" id="form3Example4" class="form-control" />
                <label class="form-label" for="form3Example4">Intrested Topic</label>
              </div>
              <div class="form-check d-flex justify-content-center mb-4">
                <input class="form-check-input me-2" type="checkbox" value="" id="form2Example33" checked />
                <label class="form-check-label" for="form2Example33">
                  Subscribe to our newsletter
                </label>
              </div>
              <button type="submit" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-block mb-4">
                Sign up
              </button>
              <div class="text-center">
                <p>or sign up with:</p>
                <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-link btn-floating mx-1">
                  <i class="fab fa-facebook-f"></i>
                </button>
                <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-link btn-floating mx-1">
                  <i class="fab fa-google"></i>
                </button>
                <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-link btn-floating mx-1">
                  <i class="fab fa-twitter"></i>
                </button>
                <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-link btn-floating mx-1">
                  <i class="fab fa-github"></i>
                </button>
              </div>
              <div class="mt-3">
                <p>Already have an account? <a href="login b.html">Login</a></p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.4.0/mdb.min.js"></script>
  <?php
 if($userexsists)
 {
 echo '<div class="alert alert-danger" role="button">
 <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
 <strong>FAILED!</strong><p>User Already exists...</p>
 </div>';
 }
 if($registered){
 echo '<div class="alert alert-success" role="button">
 <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
 <strong>Success!</strong><p>SUCCESFULLY CREATED</p>
 </div>';
 }
 ?>
</body>
</html>